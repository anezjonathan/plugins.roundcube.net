{% extends "PackagistWebBundle::layout.html.twig" %}

{% block content %}
<div class="row-fluid">
    <h2>Getting Started</h2>
    <p>
        The plugin repository for Roundcube is based on <a href="http://getcomposer.org/">Composer</a> to manage, install and update the plugins for your Roundcube installation. The following two steps are necessary to connect your local Roundcube installation to the plugin repository:
    </p>

    <h3>1. Install Composer</h3>

    <p>Run this in your command line:</p>

<pre>
cd <roundcube-project-root>
curl -s http://getcomposer.org/installer | php
</pre>

    <p>Or <a href="http://getcomposer.org/download/">download composer.phar</a> into your Roundcube root directory.</p>

    <h3>2. Configure composer.json</h3>

    <p>Copy the template composer.json-dist to composer.json in your Roundcube root directory.</p>


<h2>Installing plugins</h2>

    <p>Browse through our repository and find the plugins you want to install.</p>

    <p>Then edit your local composer.json file and add the "vendor/plugin" names to the "require" section of the JSON structure. Don't forget to specify the version constraint:</p>

<pre>
  "require" : {
    ...,
    "roundcube/rcsample": ">=0.2.0"
  },
</pre>

    <p>After every change to composer.json run</p>

<pre>
  php composer.phar install
</pre>

    <p>&hellip; to download and install all dependencies.</p>

    <p>The plugins are installed to the <roundcube-root>/plugins/ directory and when running the install command you'll be asked whether to activate the plugins right away. For any later activation or deactivation of a plugin, you can add/remove the plugin name to/from the $rcmail_config['plugins'] option in your local Roundcube config file config/main.inc.php.</p>


<h2>Publishing Plugins</h2>

<ul>
    <li>1. Read the [short introduction] how to write plugins for Roundcube on our wiki. Once you have your plugin ready for distribution, commit the code to a plublic git or svn repository like github. Make sure the plugin contents (e.g <your-plugin-name>.php) are placed in the root direcotry of the git repository.</li>
    <li>2. Then put a file named composer.json to the root of your plugin repository, containing the following information:

<pre>
{
    "name": "<your-vendor-name>/<plugin-name>",
    "type": "roundcube-plugin",
    "repositories": [
        {
            "type": "composer",
            "url": "http://plugins.roundcube.net"
        }
    ],
    "require": {
        "roundcube/plugin-installer": ">=0.1.0"
    }
 }
</pre>
This is the strictly minimal information you have to provide. For more details about package naming and the fields you can use to describe your plugin better, see the [about page].
        </li>

        <li>3. Publish your plugin on this platform. [Login] or [register] on this site, then hit the big fat  button that says "Submit plugin".

            Once you entered your public repository URL in there, your package will be automatically crawled periodically and published on this platform. You just have to make sure you keep the composer.json file up to date.
        </li>

    </ul>

</div>
{% endblock %}
